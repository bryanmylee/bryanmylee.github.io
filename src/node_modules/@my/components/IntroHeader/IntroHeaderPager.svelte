<script lang="ts">
  import { onMount } from 'svelte';
  import { fly } from 'svelte/transition';

  export let interval = 1000;
  export let duration = 200;
  export let dx = 0;
  export let dy = 0;
  $: flyIn = { x: -dx, y: -dy, duration };
  $: flyOut = { x: dx, y: dy, duration };

  export let values = [];
  $: maxIndex = values.length;
  let index = 0;
  $: value = values[index];
  onMount(() => {
    const timer = setInterval(() => {
      index = (index + 1) % maxIndex;
    }, interval);
    return () => clearInterval(timer);
  });
</script>

<div class="relative">
  {#key value}
    <h2
      in:fly={flyIn}
      out:fly={flyOut}
      class="absolute font-bold w-max text-secondary"
      >
      {value}
    </h2>
  {/key}
</div>

