<script lang="ts">
  import { getContext } from 'svelte';
  import type Link from '@my/models/Link';
  import type { IGetCross } from './SubNav.svelte';

  export let link: Link;
  export let active = false;
  $: textClass = `
    font-normal underline hover:text-accent transition-colors
    ${active && 'font-bold text-base hover:text-base'}
  `;

  const getCross = getContext('getCross') as IGetCross;
  const [send, receive] = getCross();
</script>

<a href={link.href} class={textClass}>
  <div class="relative">
    {#if active}
      <div
        in:receive={{key:null}} out:send={{key:null}}
        class="absolute inset-0 bg-accent -z-1"
        />
    {/if}
    <div class="relative px-3 py-1">
      {link.name}
    </div>
  </div>
</a>

