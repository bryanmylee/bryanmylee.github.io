<script lang="ts">
  import { setContext } from 'svelte';
  import { crossfade, fade } from 'svelte/transition';
  import SubNavLink from './SubNavLink.svelte';
  import type Link from '@my/models/Link';

  export let segment: string;
  export let links: Link[] = [];

  const cross = crossfade({
    fallback: (node, params) => fade(node, {
      ...params,
      duration: 200,
    }),
  });
  setContext('getCross', () => cross);
</script>

<ul class="flex max-w-4xl mx-auto mt-4">
  {#each links as link}
    <li><SubNavLink {link} active={segment === link.href}/></li>
  {/each}
</ul>

