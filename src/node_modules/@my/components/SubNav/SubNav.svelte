<script lang="ts">
  import { setContext } from 'svelte';
  import { crossfade, fade } from 'svelte/transition';
  import SubNavLink from './SubNavLink.svelte';
  import type { Link } from './SubNavLink.svelte';

  export let segment: string;
  export let links: Link[] = [
    { name: 'blog', href: 'blog' },
    { name: 'projects', href: 'projects' },
    { name: 'skills', href: 'skills' },
    { name: 'experience', href: 'experience' },
    { name: 'contact', href: 'contact' },
  ]

  const cross = crossfade({
    fallback: (node, params) => fade(node, {
      ...params,
      duration: 200,
    }),
  });
  setContext('getCross', () => cross);
</script>

<ul class="flex max-w-4xl mx-auto mt-4">
  {#each links as link}
    <li><SubNavLink {link} active={segment === link.href}/></li>
  {/each}
</ul>

